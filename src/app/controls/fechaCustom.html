<div [formGroup]="form" [ngClass]="'mb-2'">
    <div class="row">
        <div class="col">
            <div class="form-group">
                <div class="input-group">
                    <div class="col-xs-2 col-sm-3 col-md-3 col-lg-2 col-xl-1 tm-f-bugt">
                        <label class="pl-0">{{field.label}}: 
                        <strong class="text-danger" *ngIf="field.require">*</strong>
                    </label>
                    </div>
                    <p-calendar [inline]="true" [formControlName]="field.name" [disabledDates]="invalidDates" [locale]="en" (onMonthChange)="changeMonth($event)" (onSelect)="select($event)"></p-calendar>
                    <div class="col-lg-4 col-md-6 mb-4 card-selected">
                        <div [ngClass]="filaCel !=null ? 'card ' +(filaCel.Estado == 'En Sala de Espera' ? 'SalaEspera':filaCel.Estado):'card card-outline-secondary'">
                            <div class="card-body text-center">
                                <p *ngIf="!filaCel" class="card-text"><span class="text-secondary">No ha seleccionado ningun turno</span></p>
                                <p *ngIf="filaCel" class="card-text" style="display: flex; flex-direction: column; text-align: start;">
                                    <b>Ha seleccionado el siguiente turno:</b><br>
                                    
                                    <ng-container *ngFor="let obj of turnoSeleccionado">
                                        <span *ngIf="obj.visible">
                                            {{obj.key}}: {{obj.value}}
                                        </span>
                                    </ng-container>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="table-responsive" style="margin-top: 50px;">
                        <p>Seleccione un turno de la grilla </p>

                        <p-table [columns]="col" [value]="this.data" selectionMode="single" (onRowSelect)="onRowSelect($event)">
                            <ng-template pTemplate="header" let-columns>
                                <tr>
                                    <th [ngStyle]="col.visible == false ? {'display':'none'}:{'display':''}" *ngFor=" let col of columns ">
                                        {{col.name}}
                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-rowData let-columns="columns" let-i="rowIndex">
                                <tr [pSelectableRow]="rowData" [ngClass]="rowData.Estado == 'En Sala de Espera' ? 'SalaEspera':rowData.Estado">
                                    <td [ngStyle]="col.visible == false ? {'display':'none'}:{'display':''}" *ngFor="let col of columns">
                                        <span *ngIf="(col.link || col.linkDina) && col.visible"><a style="color:blue;cursor: pointer;" (click) = "setearAccion(rowData,col)" >{{rowData[col.name]}}</a></span>
                                        <span *ngIf="!col.link && !col.linkDina && col.visible">{{rowData[col.name]}}</span>
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                            <button type="submit" (click)="executeSt()" class="btn btn-outline-info btn-xs btn-sm btn-md btn-lg">{{field.fechaCustomDTO.metodoStDTO.labelButtom}}</button>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>